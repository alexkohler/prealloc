package main

func main() {
	x := make([]rune, len("Hello"))
	var y []rune
	var z, w, v, u, s []int
	var t [][]int
	var intChan chan int
	var p, q = make([]int, 0, 10), make([]int, 0)

	for i, r := range "Hello" {
		// x is already pre-allocated
		// y is a candidate for pre-allocation
		x[i], y = r, append(y, r)

		// w is not a candidate for pre-allocation due to `...`
		w = append(w, foo(i)...)

		// v is not a candidate for pre-allocation since this appends to u
		v = append(u, i)

		// u is not a candidate for pre-allocation since nothing was actually appended
		u = append(u)

		// z is a candidate for pre-allocation
		z = append(z, i)

		// t is a candidate for pre-allocation
		t = append(t, foo(i))

		// p is not a candidate for pre-allocation since it has been pre-allocated
		p = append(p, i)

		// q is a candidate for pre-allocation
		q = append(q, i)
	}

	for i := range intChan {
		// s is not a candidate for pre-allocation since the range target is a channel
		s = append(s, i)
	}

	_ = v
}

func foo(n int) []int {
	return make([]int, n)
}
